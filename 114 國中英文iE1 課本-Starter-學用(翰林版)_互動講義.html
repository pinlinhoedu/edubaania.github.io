<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>國中英語 Starter Unit 超詳盡講義</title>
    <style>
        :root {
            --bg-main: #F5F5F1;
            --bg-card-blue: #B0C4DE;
            --bg-card-pink: #D8BFD8;
            --bg-card-green: #AEC3B0;
            --bg-card-almond: #FFEBCD;
            --bg-chat-a: #EAEAEA;
            --text-main: #333333;
            --text-light: #555555;
            --highlight-bg: rgba(250, 208, 46, 0.4);
            --correct-color: #4CAF50;
            --incorrect-color: #F44336;
            --border-color: #DDDDDD;
            --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-main);
            color: var(--text-main);
            line-height: 1.8;
            margin: 0;
            padding: 20px;
            font-size: 16px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
        }

        .card {
            background-color: #FFFFFF;
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            transition: all 0.3s ease-in-out;
        }

        h1, h2, h3 {
            color: #2c3e50;
            margin-top: 0;
        }
        
        h1 {
            text-align: center;
            font-size: 2.2em;
            margin-bottom: 20px;
        }
        
        h2 {
            border-bottom: 2px solid var(--bg-card-blue);
            padding-bottom: 10px;
            margin-bottom: 20px;
            font-size: 1.8em;
        }

        h3 {
            font-size: 1.4em;
            color: #34495e;
            margin-top: 30px;
        }
        
        p, li {
            font-size: 1.1em;
        }
        
        ul {
            padding-left: 20px;
        }

        .highlight {
            font-weight: bold;
            background-color: var(--highlight-bg);
            padding: 2px 5px;
            border-radius: 4px;
        }

        .intro-button {
            display: block;
            width: fit-content;
            margin: 20px auto;
            padding: 12px 25px;
            background-color: var(--bg-card-blue);
            color: var(--text-main);
            border: none;
            border-radius: 8px;
            font-size: 1.2em;
            font-weight: bold;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
        }
        .intro-button:hover {
            background-color: #98afcd;
            transform: scale(1.05);
        }

        #main-content {
            opacity: 0;
            transform: translateY(20px);
            transition: opacity 0.8s ease, transform 0.8s ease;
            display: none;
        }
        #main-content.visible {
            opacity: 1;
            transform: translateY(0);
            display: block;
        }
        
        .color-block {
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        .color-block.blue { background-color: var(--bg-card-blue); }
        .color-block.pink { background-color: var(--bg-card-pink); }
        .color-block.green { background-color: var(--bg-card-green); }
        .color-block.almond { background-color: var(--bg-card-almond); }

        /* Chat simulation */
        .chat-container {
            padding: 20px;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: #fff;
        }
        .chat-bubble {
            padding: 10px 15px;
            border-radius: 18px;
            margin-bottom: 10px;
            max-width: 80%;
            opacity: 0;
            transform: translateY(10px);
            transition: opacity 0.5s, transform 0.5s;
            cursor: pointer;
        }
        .chat-bubble.visible {
            opacity: 1;
            transform: translateY(0);
        }
        .chat-bubble.speaker-a {
            background-color: var(--bg-chat-a);
            border-bottom-left-radius: 4px;
            margin-right: auto;
        }
        .chat-bubble.speaker-b {
            background-color: var(--bg-card-blue);
            border-bottom-right-radius: 4px;
            margin-left: auto;
            text-align: right;
        }
        .chat-container small {
            display: block;
            text-align: center;
            color: var(--text-light);
            margin-top: 10px;
            opacity: 0;
            transition: opacity 0.5s;
        }
        .chat-container small.visible {
            opacity: 1;
        }

        /* Toggler */
        .toggler {
            display: flex;
            align-items: center;
            cursor: pointer;
            color: #2980b9;
            font-weight: bold;
            margin-bottom: 10px;
        }
        .toggler-icon {
            display: inline-block;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background-color: #2980b9;
            color: white;
            text-align: center;
            line-height: 20px;
            margin-right: 8px;
            font-style: normal;
        }
        .toggle-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
            padding-left: 28px;
            border-left: 2px solid #2980b9;
            margin-left: 9px;
        }
        .toggle-content.visible {
            max-height: 500px; /* Should be enough for content */
        }
        
        /* Drag and Drop */
        .drag-drop-container {
            background-color: rgba(255,255,255,0.5);
            padding: 20px;
            border-radius: 8px;
        }
        .drop-zone {
            border: 2px dashed var(--text-light);
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            text-align: center;
            transition: all 0.3s;
        }
        .drop-zone.drag-over {
            background-color: rgba(0,0,0,0.1);
        }
        .drop-zone.correct {
            border: 2px solid var(--correct-color);
            background-color: rgba(76, 175, 80, 0.1);
        }
        .drop-zone.incorrect {
            border: 2px solid var(--incorrect-color);
            background-color: rgba(244, 67, 54, 0.1);
            animation: shake 0.5s;
        }
        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-5px); }
            75% { transform: translateX(5px); }
        }
        .draggable-items {
            margin-top: 20px;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        .draggable {
            padding: 8px 15px;
            background-color: #fff;
            border: 1px solid var(--border-color);
            border-radius: 20px;
            cursor: grab;
            user-select: none;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .draggable:active {
            cursor: grabbing;
        }
        .draggable.dropped {
            opacity: 0.3;
            cursor: default;
        }
        
        /* Flip Card */
        .flip-card-container {
            display: flex;
            flex-wrap: wrap;
            gap: 20px;
            margin-top: 15px;
        }
        .flip-card {
            background-color: transparent;
            width: 180px;
            height: 120px;
            perspective: 1000px;
            cursor: pointer;
        }
        .flip-card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            text-align: center;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }
        .flip-card.flipped .flip-card-inner {
            transform: rotateY(180deg);
        }
        .flip-card-front, .flip-card-back {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            border-radius: 8px;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 10px;
            box-sizing: border-box;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .flip-card-front {
            background-color: var(--bg-card-green);
            color: var(--text-main);
            font-size: 1.5em;
            font-weight: bold;
        }
        .flip-card-back {
            background-color: #f9f9f9;
            color: var(--text-main);
            transform: rotateY(180deg);
            font-size: 0.9em;
            line-height: 1.5;
        }
        
        /* Interactive Pairing */
        .pairing-container {
            display: flex;
            justify-content: space-around;
            background-color: rgba(255,255,255,0.5);
            padding: 20px;
            border-radius: 8px;
        }
        .pairing-col ul {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .pairing-col li {
            padding: 10px 20px;
            margin: 5px 0;
            border: 1px solid var(--border-color);
            border-radius: 8px;
            background-color: #fff;
            transition: all 0.3s;
        }
        .pairing-col.subjects li {
            cursor: pointer;
        }
        .pairing-col.subjects li:hover {
            background-color: #f0f0f0;
        }
        .pairing-col.subjects li.active {
            background-color: var(--bg-card-blue);
            color: white;
        }
        .pairing-col.verbs li.highlight {
            background-color: var(--correct-color);
            color: white;
        }
        .pairing-col.verbs li.dimmed {
            opacity: 0.4;
        }

        /* Error Correction */
        .error-correction-container .option {
            padding: 10px;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.3s;
            position: relative;
        }
        .error-correction-container .option:after {
            content: '';
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            font-size: 1.5em;
            font-weight: bold;
            opacity: 0;
            transition: opacity 0.3s;
        }
        .error-correction-container .option.correct {
            border-color: var(--correct-color);
            background-color: rgba(76, 175, 80, 0.1);
        }
        .error-correction-container .option.correct:after {
            content: '✓';
            color: var(--correct-color);
            opacity: 1;
        }
        .error-correction-container .option.incorrect {
            border-color: var(--incorrect-color);
            background-color: rgba(244, 67, 54, 0.1);
        }
        .error-correction-container .option.incorrect:after {
            content: '✗';
            color: var(--incorrect-color);
            opacity: 1;
        }
        .error-correction-container .explanation {
            display: none;
            margin-top: 10px;
            padding: 10px;
            background-color: #eef;
            border-radius: 5px;
        }

        /* Mini Challenge */
        .mini-challenge-container {
            background: rgba(255,255,255,0.5);
            padding: 20px;
            border-radius: 8px;
        }
        .mini-challenge-q {
            font-size: 1.2em;
            text-align: center;
            margin-bottom: 15px;
        }
        .mini-challenge-options {
            display: flex;
            justify-content: center;
            gap: 15px;
        }
        .mini-challenge-options button {
            padding: 10px 20px;
            font-size: 1.1em;
            border: 2px solid var(--bg-card-blue);
            background-color: #fff;
            color: var(--bg-card-blue);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
        }
        .mini-challenge-options button.correct {
            background-color: var(--correct-color);
            border-color: var(--correct-color);
            color: white;
        }
        .mini-challenge-options button.incorrect {
            background-color: var(--incorrect-color);
            border-color: var(--incorrect-color);
            color: white;
        }
        .mini-challenge-explanation {
            text-align: center;
            margin-top: 15px;
            color: var(--text-light);
            display: none;
        }

        /* Quiz */
        .quiz-card {
            background-color: rgba(255,255,255,0.5);
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
        }
        .quiz-card .quiz-options button {
            display: block;
            width: 100%;
            text-align: left;
            padding: 12px;
            margin: 8px 0;
            background-color: #fff;
            border: 2px solid var(--border-color);
            border-radius: 8px;
            cursor: pointer;
            font-size: 1em;
            transition: all 0.3s;
        }
        .quiz-card .quiz-options button:hover:not(:disabled) {
            border-color: var(--bg-card-blue);
            background-color: #f0f8ff;
        }
        .quiz-card .quiz-options button:disabled {
            cursor: not-allowed;
        }
        .quiz-card .quiz-options button.selected.correct {
            border-color: var(--correct-color);
            background-color: rgba(76, 175, 80, 0.1);
        }
        .quiz-card .quiz-options button.selected.incorrect {
            border-color: var(--incorrect-color);
            background-color: rgba(244, 67, 54, 0.1);
        }
        .quiz-card .quiz-options button.answer {
            border-color: var(--correct-color);
            background-color: var(--correct-color);
            color: white;
        }
        .quiz-solution {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.5s ease-in-out;
            background-color: #eaf2f8;
            border-radius: 8px;
            padding: 0 15px;
            margin-top: 15px;
        }
        .quiz-solution.visible {
            max-height: 1000px;
            padding: 15px;
        }
        .quiz-solution strong {
            color: var(--correct-color);
        }

        @media (max-width: 600px) {
            body {
                padding: 10px;
            }
            .card {
                padding: 15px;
            }
            h1 { font-size: 1.8em; }
            h2 { font-size: 1.5em; }
            h3 { font-size: 1.2em; }
            p, li { font-size: 1em; }

            .flip-card-container {
                justify-content: center;
            }
            .flip-card {
                width: 150px;
                height: 100px;
            }
            .pairing-container {
                flex-direction: column;
                gap: 15px;
            }
        }
    </style>
</head>
<body>

    <div class="container">
        <header class="card">
            <h1>國中英語 Starter Unit 超詳盡講義：從零到一，打造完美英語對話基礎！</h1>
            <p>嘿！同學，準備好開始你的英語冒險了嗎？我是你的專屬英語名師。很多人覺得 Starter Unit 很簡單，就是 ABC 跟打招呼，一下子就翻過去了。但魔鬼藏在細節裡，<strong class="highlight">愈是基礎的東西，愈要學得紮實</strong>！</p>
            <p>你想想，蓋房子地基是不是最重要？學英文也是一樣！這份講義會帶你把最基本的「自我介紹」和「問候」句型學到骨子裡，讓你不是只會背句子，而是真正理解它們是怎麼來的！準備好了嗎？</p>
            <button class="intro-button" id="start-learning-btn">Let's get started!</button>
        </header>

        <main id="main-content">
            <section class="card">
                <h2>課文逐句精講</h2>
                <p>今天我們要徹底拆解的，是你未來每天都會用到的超級實用對話，出自課本 P8：</p>
                <div class="color-block blue">
                    <div class="chat-container" id="chat-container">
                        <div class="chat-bubble speaker-a" data-step="1">A: What is your name?</div>
                        <div class="chat-bubble speaker-b" data-step="2">B: I am Cody.</div>
                        <div class="chat-bubble speaker-a" data-step="3">A: Hello, Cody. How are you?</div>
                        <div class="chat-bubble speaker-b" data-step="4">B: I'm fine. Thank you.</div>
                        <small id="chat-prompt">點擊任意處顯示下一句對話...</small>
                    </div>
                </div>
                <p>看起來很簡單對吧？現在，讓我們戴上文法顯微鏡，把它們看個仔細！</p>

                <article>
                    <h3>句子 1: What is your name?</h3>
                    <div class="toggler" data-target="translation-1">
                        <i class="toggler-icon">?</i> 點我看中文翻譯
                    </div>
                    <div class="toggle-content" id="translation-1">
                        <p>你叫什麼名字？</p>
                    </div>

                    <div class="color-block pink">
                        <h4>句法結構分析 (句子重組)</h4>
                        <p>請將下方的單字拖曳到正確的結構框中。</p>
                        <div class="drag-drop-container" id="dd1">
                            <div class="drop-zone" data-accept="wh">Wh- 疑問詞</div>
                            <div class="drop-zone" data-accept="be">be 動詞 (V.)</div>
                            <div class="drop-zone" data-accept="s">主詞 (S.)</div>
                            <div class="drop-zone" data-accept="punc">?</div>
                            <div class="draggable-items">
                                <span class="draggable" draggable="true" data-type="be">is</span>
                                <span class="draggable" draggable="true" data-type="s">your name</span>
                                <span class="draggable" draggable="true" data-type="wh">What</span>
                                <span class="draggable" draggable="true" data-type="punc">?</span>
                            </div>
                        </div>
                    </div>

                    <div class="color-block green">
                        <h4>重要用法/單字/片語 (點擊翻卡)</h4>
                        <div class="flip-card-container">
                            <div class="flip-card">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">What</div>
                                    <div class="flip-card-back">
                                        開啟「問資訊」的萬能鑰匙！<br>
                                        <em>例: What is this?</em><br>
                                        <em>例: What is your favorite color?</em>
                                    </div>
                                </div>
                            </div>
                            <div class="flip-card">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">your</div>
                                    <div class="flip-card-back">
                                        所有格「你的」。後面<strong class="highlight">一定要接一個名詞</strong>！<br>
                                        my, his, her, its...
                                    </div>
                                </div>
                            </div>
                            <div class="flip-card">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">What's</div>
                                    <div class="flip-card-back">
                                        口語縮寫<br>
                                        = What is
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </article>

                <article>
                    <h3>句子 2: I am Cody.</h3>
                    <div class="toggler" data-target="translation-2">
                        <i class="toggler-icon">?</i> 點我看中文翻譯
                    </div>
                    <div class="toggle-content" id="translation-2">
                        <p>我是 Cody。</p>
                    </div>

                    <div class="color-block pink">
                         <h4>句法結構分析 (句子重組)</h4>
                        <div class="drag-drop-container" id="dd2">
                            <div class="drop-zone" data-accept="s">主詞 (S.)</div>
                            <div class="drop-zone" data-accept="be">be 動詞 (V.)</div>
                            <div class="drop-zone" data-accept="sc">主詞補語 (SC.)</div>
                            <div class="draggable-items">
                                <span class="draggable" draggable="true" data-type="s">I</span>
                                <span class="draggable" draggable="true" data-type="be">am</span>
                                <span class="draggable" draggable="true" data-type="sc">Cody.</span>
                            </div>
                        </div>
                    </div>
                    
                    <div class="color-block green">
                        <h4>重要用法/單字/片語</h4>
                        <h5>主詞代名詞與 be 動詞 (互動式配對)</h5>
                        <p>點擊左邊的主詞，看看右邊哪個 be 動詞會亮起來！</p>
                        <div class="pairing-container">
                            <div class="pairing-col subjects" id="pairing-subjects">
                                <ul>
                                    <li data-pair="1">I</li>
                                    <li data-pair="2">You / We / They</li>
                                    <li data-pair="3">He / She / It</li>
                                </ul>
                            </div>
                             <div class="pairing-col verbs" id="pairing-verbs">
                                <ul>
                                    <li data-pair="3">is</li>
                                    <li data-pair="1">am</li>
                                    <li data-pair="2">are</li>
                                </ul>
                            </div>
                        </div>
                        <p><strong class="highlight">注意</strong>: 姓名的第一個字母<strong class="highlight">永遠要大寫</strong>！例如 `Cody`, `Jamie`, `Mr. Lin`。</p>
                        <h5>縮寫 (點擊翻卡)</h5>
                         <div class="flip-card-container">
                            <div class="flip-card">
                                <div class="flip-card-inner">
                                    <div class="flip-card-front">I'm</div>
                                    <div class="flip-card-back">
                                        口語縮寫<br>
                                        = I am
                                    </div>
                                </div>
                            </div>
                         </div>
                    </div>
                </article>

                <article>
                    <h3>句子 3: Hello, Cody. How are you?</h3>
                     <div class="toggler" data-target="translation-3">
                        <i class="toggler-icon">?</i> 點我看中文翻譯
                    </div>
                    <div class="toggle-content" id="translation-3">
                        <p>哈囉，Cody。你好嗎？</p>
                    </div>
                    
                    <div class="color-block green">
                        <h4>重要用法/單字/片語</h4>
                        <h5>逗號的用法 (修正錯誤)</h5>
                        <p>當你稱呼某人時，名字和句子之間要用<strong class="highlight">逗號</strong>隔開。請選出正確的句子：</p>
                        <div class="error-correction-container" id="comma-check">
                            <div class="option" data-correct="false">A. Good morning Mom</div>
                            <div class="option" data-correct="true">B. Good morning, Mom.</div>
                            <div class="explanation">答對了！稱謂 Mom 前面需要一個逗號。</div>
                        </div>
                    </div>
                </article>
                
                <article>
                    <h3>句子 4: I'm fine. Thank you.</h3>
                    <div class="toggler" data-target="translation-4">
                        <i class="toggler-icon">?</i> 點我看中文翻譯
                    </div>
                    <div class="toggle-content" id="translation-4">
                        <p>我很好。謝謝你。</p>
                    </div>

                    <div class="color-block green">
                        <h4>重要用法/單字/片語</h4>
                        <h5>回答 "How are you?"</h5>
                         <div class="toggler" data-target="more-replies">
                            <i class="toggler-icon">+</i> 看看更多說法
                        </div>
                        <div class="toggle-content" id="more-replies">
                            <ul>
                                <li><em>I'm good.</em> (我很好。)</li>
                                <li><em>I'm great!</em> (我超棒的！)</li>
                                <li><em>Not bad.</em> (還不錯。)</li>
                            </ul>
                        </div>
                        <p><strong class="highlight">禮貌的重要性</strong>: `Thank you` 是非常重要的禮貌用語。當別人關心你時，記得要謝謝對方喔！</p>
                    </div>
                </article>

            </section>

            <section class="card color-block almond">
                <h2>老師的延伸小講堂</h2>
                <article>
                    <h3>文化小知識：打招呼不只 "How are you?"</h3>
                    <p>在美國，年輕人之間更常說 (點擊看看如何回答)：</p>
                    <div class="toggler" data-target="culture-1">
                        <i class="toggler-icon">&gt;</i> "What's up?"
                    </div>
                    <div class="toggle-content" id="culture-1">
                        <p>這句意思比較接近「嘿，最近怎樣？」，可以簡單回答：</p>
                        <ul>
                            <li>"Not much." (沒什麼特別的。)</li>
                            <li>"Good." (不錯。)</li>
                        </ul>
                    </div>
                    <div class="toggler" data-target="culture-2">
                        <i class="toggler-icon">&gt;</i> "How's it going?"
                    </div>
                    <div class="toggle-content" id="culture-2">
                        <p>這句也是輕鬆的問候，可以回答：</p>
                        <ul>
                            <li>"It's going well." (一切順利。)</li>
                            <li>"Good." (不錯。)</li>
                        </ul>
                    </div>
                </article>
                <article>
                    <h3>易混淆觀念：`I` vs. `my`，`you` vs. `your`</h3>
                    <p>很多同學剛開始會搞混。記住這個簡單的口訣：</p>
                    <ul>
                        <li><strong class="highlight">`I`, `you` 是主角，放句首做動作。</strong> (I am a boy. You are a girl.)</li>
                        <li><strong class="highlight">`my`, `your` 是跟班，後面跟著名詞。</strong> (My name is Tom. Your bag is big.)</li>
                    </ul>
                    <h4>二選一挑戰！</h4>
                    <div class="mini-challenge-container" id="challenge1">
                        <p class="mini-challenge-q">______ name is Tom.</p>
                        <div class="mini-challenge-options">
                            <button data-correct="false">I</button>
                            <button data-correct="true">my</button>
                        </div>
                        <p class="mini-challenge-explanation">口訣：`my` 是跟班，後面要跟著名詞 `name`。</p>
                    </div>
                </article>
            </section>

            <section class="card color-block almond">
                <h2>小試身手：驗收你的學習成果！</h2>
                <p>來吧！是時候驗收你是否真的學通了。這五題不只是考記憶，更是考你的理解與應用能力！</p>
                
                <div class="quiz-card" id="quiz1">
                    <p><strong>1. 基礎題 (單字理解)</strong><br>A: What is ____ name?<br>B: ____ am Jack.</p>
                    <div class="quiz-options">
                        <button data-correct="false">(A) you / I</button>
                        <button data-correct="false">(B) your / My</button>
                        <button data-correct="true">(C) your / I</button>
                        <button data-correct="false">(D) you / My</button>
                    </div>
                    <div class="quiz-solution">
                        <p><strong>答案: (C) your / I</strong></p>
                        <ul>
                            <li><strong>解題思路</strong>: 第一格要問「<strong>你的</strong>名字」，所以要用所有格 `your`。第二格回答「<strong>我</strong>是 Jack」，主詞是「我」，所以用 `I`。</li>
                            <li><strong>提示</strong>: 看到 `name` (名字)，前面就要找 `my`, `your`, `his`, `her` 這種「...的」跟班。看到 `am`，前面的主角一定是 `I`。</li>
                        </ul>
                    </div>
                </div>

                <div class="quiz-card" id="quiz2">
                    <p><strong>2. 進階應用題 (情境對話)</strong><br>看到一個新來的女同學，你想問她旁邊的朋友她叫什麼名字，你該怎麼問？</p>
                    <div class="quiz-options">
                        <button data-correct="false">(A) What her name?</button>
                        <button data-correct="true">(B) What is her name?</button>
                        <button data-correct="false">(C) What is she name?</button>
                        <button data-correct="false">(D) How is her name?</button>
                    </div>
                    <div class="quiz-solution">
                        <p><strong>答案: (B) What is her name?</strong></p>
                        <ul>
                            <li><strong>解題思路</strong>: 問「<strong>她的</strong>名字」，所以是 `her name`。一個完整的問句需要 `be` 動詞 `is`。選項 (A) 少了 `is`。選項 (C) `she` 是主詞，不能放在 `name` 前面。選項 (D) `How` 是問「如何」，不是問「什麼」。</li>
                             <li><strong>提示</strong>: 「她的」是 `her`，「她是」才是 `she is`。兩者不能混用喔！</li>
                        </ul>
                    </div>
                </div>

                <div class="quiz-card" id="quiz3">
                    <p><strong>3. 「易混淆文法觀念」素養題 1 (大小寫與標點)</strong><br>以下哪個句子是完全正確的書寫格式？</p>
                    <div class="quiz-options">
                        <button data-correct="false">(A) My name is peter.</button>
                        <button data-correct="false">(B) Hello, Tom how are you?</button>
                        <button data-correct="false">(C) I'm fine, Thank you.</button>
                        <button data-correct="true">(D) His name is Mr. Lin.</button>
                    </div>
                    <div class="quiz-solution">
                        <p><strong>答案: (D) His name is Mr. Lin.</strong></p>
                        <ul>
                           <li><strong>解題思路</strong>: (A) 人名 `Peter` 的 P 應該大寫。(B) `Hello, Tom` 後面應該是句點，`How` 要大寫。(C) `Thank you` 是另一個句子，`Thank` 的 T 應該大寫。(D) 句首、稱謂、姓氏首字母都大寫，完全正確！</li>
                           <li><strong>提示</strong>: 檢查三個地方：<strong>句首、人名、句尾</strong>！這是書寫最基本的規則。</li>
                        </ul>
                    </div>
                </div>

                <div class="quiz-card" id="quiz4">
                    <p><strong>4. 「易混淆文法觀念」素養題 2 (主詞與動詞搭配)</strong><br>Peter: Hi, Lisa. This is my friend, Tom.<br>Lisa: Hello, Tom.<br>Tom: Hi, Lisa. ______ very nice.</p>
                    <div class="quiz-options">
                        <button data-correct="false">(A) You is</button>
                        <button data-correct="false">(B) You am</button>
                        <button data-correct="true">(C) You are</button>
                        <button data-correct="false">(D) Your are</button>
                    </div>
                    <div class="quiz-solution">
                        <p><strong>答案: (C) You are</strong></p>
                        <ul>
                            <li><strong>解題思路</strong>: 這是在稱讚 Lisa，說「你」人真好。主詞 `You` 的 `be` 動詞固定搭配就是 `are`。</li>
                            <li><strong>提示</strong>: 把「主詞與 be 動詞」的黃金組合 (`I am`, `You are`, `He/She is`...) 背到滾瓜爛熟！</li>
                        </ul>
                    </div>
                </div>

                <div class="quiz-card" id="quiz5">
                    <p><strong>5. 「易混淆文法觀念」素養題 3 (代名詞選擇)</strong><br>In the classroom...<br>Teacher: What is her name?<br>Student: ______ name is Lucy. ______ is a good student.</p>
                    <div class="quiz-options">
                        <button data-correct="true">(A) Her / She</button>
                        <button data-correct="false">(B) She / Her</button>
                        <button data-correct="false">(C) Her / Her</button>
                        <button data-correct="false">(D) She / She</button>
                    </div>
                    <div class="quiz-solution">
                        <p><strong>答案: (A) Her / She</strong></p>
                        <ul>
                            <li><strong>解題思路</strong>: 第一格要回答「<strong>她的</strong>名字是 Lucy」，所以用所有格 `Her`。第二格要說「<strong>她</strong>是個好學生」，主詞是「她」，所以用 `She`。</li>
                             <li><strong>提示</strong>: 再次回想口訣：「主角用 `She`，跟班用 `Her`」。`Her name` (她的名字)，`She is` (她是)。分清楚就無敵了！</li>
                        </ul>
                    </div>
                </div>

            </section>
        </main>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {

            // Intro Button
            const startBtn = document.getElementById('start-learning-btn');
            const mainContent = document.getElementById('main-content');
            startBtn.addEventListener('click', () => {
                mainContent.style.display = 'block';
                setTimeout(() => mainContent.classList.add('visible'), 10);
                startBtn.style.display = 'none';
            });

            // Chat Simulation
            const chatContainer = document.getElementById('chat-container');
            const chatBubbles = Array.from(chatContainer.querySelectorAll('.chat-bubble'));
            const chatPrompt = document.getElementById('chat-prompt');
            let currentStep = 0;
            chatContainer.addEventListener('click', () => {
                if (currentStep < chatBubbles.length) {
                    chatBubbles[currentStep].classList.add('visible');
                    currentStep++;
                }
                if (currentStep === chatBubbles.length) {
                    setTimeout(() => chatPrompt.classList.add('visible'), 300);
                    chatPrompt.textContent = "對話結束！";
                }
            });

            // Generic Toggler
            document.querySelectorAll('.toggler').forEach(toggler => {
                toggler.addEventListener('click', () => {
                    const targetId = toggler.dataset.target;
                    const content = document.getElementById(targetId);
                    content.classList.toggle('visible');
                });
            });

            // Flip Cards
            document.querySelectorAll('.flip-card').forEach(card => {
                card.addEventListener('click', () => {
                    card.classList.toggle('flipped');
                });
            });

            // Drag and Drop
            function setupDragDrop(containerId) {
                const container = document.getElementById(containerId);
                const draggables = container.querySelectorAll('.draggable');
                const dropZones = container.querySelectorAll('.drop-zone');
                let draggedItem = null;

                draggables.forEach(draggable => {
                    draggable.addEventListener('dragstart', (e) => {
                        draggedItem = e.target;
                        setTimeout(() => e.target.style.display = 'none', 0);
                    });
                    draggable.addEventListener('dragend', (e) => {
                        setTimeout(() => {
                           e.target.style.display = 'inline-block';
                           draggedItem = null;
                        }, 0);
                    });
                });

                dropZones.forEach(zone => {
                    zone.addEventListener('dragover', (e) => {
                        e.preventDefault();
                        zone.classList.add('drag-over');
                    });
                    zone.addEventListener('dragleave', () => {
                        zone.classList.remove('drag-over');
                    });
                    zone.addEventListener('drop', (e) => {
                        e.preventDefault();
                        zone.classList.remove('drag-over');
                        if (draggedItem && zone.dataset.accept === draggedItem.dataset.type) {
                            zone.textContent = draggedItem.textContent;
                            zone.classList.add('correct');
                            zone.classList.remove('incorrect');
                            draggedItem.classList.add('dropped');
                            draggedItem.setAttribute('draggable', 'false');
                        } else {
                            zone.classList.add('incorrect');
                            setTimeout(() => zone.classList.remove('incorrect'), 500);
                        }
                    });
                });
            }
            setupDragDrop('dd1');
            setupDragDrop('dd2');

            // Pairing Interaction
            const pairingSubjects = document.getElementById('pairing-subjects');
            const pairingVerbs = document.getElementById('pairing-verbs');
            const subjectItems = pairingSubjects.querySelectorAll('li');
            const verbItems = pairingVerbs.querySelectorAll('li');
            
            subjectItems.forEach(subject => {
                subject.addEventListener('click', () => {
                    subjectItems.forEach(s => s.classList.remove('active'));
                    subject.classList.add('active');
                    const pairId = subject.dataset.pair;
                    
                    verbItems.forEach(verb => {
                        verb.classList.remove('highlight', 'dimmed');
                        if (verb.dataset.pair === pairId) {
                            verb.classList.add('highlight');
                        } else {
                            verb.classList.add('dimmed');
                        }
                    });
                });
            });

            // Error Correction
            const commaCheckContainer = document.getElementById('comma-check');
            commaCheckContainer.addEventListener('click', (e) => {
                if (e.target.classList.contains('option')) {
                    const isCorrect = e.target.dataset.correct === 'true';
                    if (isCorrect) {
                        e.target.classList.add('correct');
                        commaCheckContainer.querySelector('.explanation').style.display = 'block';
                    } else {
                        e.target.classList.add('incorrect');
                    }
                    // Disable further clicks
                    commaCheckContainer.querySelectorAll('.option').forEach(opt => opt.style.pointerEvents = 'none');
                }
            });

            // Mini Challenge
            const challenge1 = document.getElementById('challenge1');
            challenge1.querySelectorAll('button').forEach(button => {
                button.addEventListener('click', (e) => {
                    const isCorrect = e.target.dataset.correct === 'true';
                    e.target.classList.add(isCorrect ? 'correct' : 'incorrect');
                    challenge1.querySelector('.mini-challenge-explanation').style.display = 'block';
                    challenge1.querySelectorAll('button').forEach(btn => btn.disabled = true);
                });
            });

            // Main Quiz
            document.querySelectorAll('.quiz-card').forEach(card => {
                const options = card.querySelectorAll('.quiz-options button');
                const solution = card.querySelector('.quiz-solution');
                options.forEach(button => {
                    button.addEventListener('click', () => {
                        const isCorrect = button.dataset.correct === 'true';
                        
                        button.classList.add('selected');
                        if (isCorrect) {
                            button.classList.add('correct');
                        } else {
                            button.classList.add('incorrect');
                        }

                        options.forEach(opt => {
                            if(opt.dataset.correct === 'true') {
                                opt.classList.add('answer');
                            }
                            opt.disabled = true;
                        });

                        solution.classList.add('visible');
                    });
                });
            });

        });
    </script>

</body>
</html>
